== Architektur
:source-dir: ../../../../samples/binding/src/main/java

=== Übersicht

Linkki erstellt aus UI-Definitionen (in Form von Annotations an Presentation-Model-Objekten) ein UI, dessen Inhalte (Daten) und Eigenschaften (z.B. Sichtbarkeit, Editierbarkeit, ...) bidirektional an Methoden der PMOs gebunden werden. Wird ein Wert im UI geändert werden deshalb auch davon abhängige Änderungen anderer Eigenschaften aktualisiert.

.Bidirektionales Databinding
image::data_binding.png[]
 
 TODO: Auf die Kapitel eingehen - erst sinnvoll wenn deren Inhalt fest steht.
 
[[databinding]]
=== Data Binding mit PMOs

Ein Presentation Model Object kapselt den Zustand des UIs unabhängig von der konkreten UI-Implementierung. Das UI interagiert über Data Binding ausschließlich mit diesem PMO. Dazu muss das PMO nicht alle Daten selber halten - häufig delegiert es an ein oder mehrere bestehende Modellobjekte (siehe <<domain-model-binding,Daten auf mehreren Ebenen>>) und/oder aggregiert und konvertiert Daten zur Darstellung im UI.

.Presentation Model Object
image::pmo.png[]

In Linkki sind PMOs POJOs, die mit `@UISection` annotiert sind - es gibt also für jeden Abschnitt des UIs ein eigenes PMO. Alle an das UI zu bindenden Methoden erhalten passende Annotationen (siehe dazu <<ui-komponenten,UI Komponenten>>). Zusätzlich gibt es ein paar Interfaces, die PMOs implementieren können: 

* `org.linkki.core.PresentationModelObject` bietet eine Methode, mit der ein Button-PMO erstellt werden kann; der daraus erzeugte Button löst eine Bearbeitung des PMOs aus
* `org.linkki.core.ButtonPmo` ist ein PMO für Buttons, siehe <<buttons,Buttons>>
* `org.linkki.core.ui.table.ContainerPmo` ist ein PMO für Tabellen - die einzelnen Zeilen haben wieder reguläre PMOs, siehe auch <<container-komponenten,Container Komponenten>>

[[domain-model-binding]]
=== Daten auf mehreren Ebenen (Domain Model Binding)

[[binding-ui-element-properties]]
=== Binding von UI Elementen Eigenschaften und Daten (auswählbare Werte, Enabled, Sichtbarkeit, ToolTip)